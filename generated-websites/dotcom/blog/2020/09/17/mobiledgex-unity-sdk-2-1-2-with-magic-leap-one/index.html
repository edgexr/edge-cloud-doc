<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"><![endif]-->
<!--[if IE 7]><html class="no-js lt-ie9 lt-ie8" <![endif]-->
<!--[if IE 8]><html class="no-js lt-ie9" <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js">
<!--<![endif]-->

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>MobiledgeX Unity SDK 2.1.2 with Magic Leap One | MobiledgeX</title>
<meta name="description" content="Learn how to use the new MobiledgeX Unity SDK to harness the telco edge cloud to enhance face detection performance with Magic Leap One AR glasses." />
<meta property="og:type" content="website" />
<meta property="og:title" content="MobiledgeX Unity SDK 2.1.2 with Magic Leap One" />
<meta property="og:description" content="Learn how to use the new MobiledgeX Unity SDK to harness the telco edge cloud to enhance face detection performance with Magic Leap One AR glasses." />
<meta property="og:url" content="http://mexv3.test/blog/2020/09/17/mobiledgex-unity-sdk-2-1-2-with-magic-leap-one" />
<meta property="og:site_name" content="MobiledgeX" />
<meta property="og:locale" content="en_US" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@MobiledgeX" />
<meta name="twitter:title" content="MobiledgeX Unity SDK 2.1.2 with Magic Leap One" />
<meta name="twitter:description" content="Learn how to use the new MobiledgeX Unity SDK to harness the telco edge cloud to enhance face detection performance with Magic Leap One AR glasses." />
<meta property="og:image" content="http://mexv3.test/img/containers/social/leap-one-social.jpg/bb6470166586662318ba6760204b83f6.jpg" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="1200" />
<meta property="og:image:alt" content="" />
<meta name="twitter:image" content="http://mexv3.test/img/containers/social/leap-one-social.jpg/bb6470166586662318ba6760204b83f6.jpg" />
<meta name="twitter:image:alt" content="" />
<link href="http://mexv3.test/" rel="home" />
<link href="http://mexv3.test/blog/2020/09/17/mobiledgex-unity-sdk-2-1-2-with-magic-leap-one" rel="canonical" />
<link href="http://mexv3.test/blog/2020/09/17/mobiledgex-unity-sdk-2-1-2-with-magic-leap-one?page=2" rel="prev" />
<link href="http://mexv3.test/blog/2020/09/17/mobiledgex-unity-sdk-2-1-2-with-magic-leap-one?page=4" rel="next" />
<link type="text/plain" rel="author" href="http://mexv3.test/humans.txt" />
  <meta name="robots" content="noindex,nofollow">
  <link rel="stylesheet" href="https://sibforms.com/forms/end-form/build/sib-styles.css">
  <link rel="stylesheet" href="/css/mex.min.css?v=1645052280">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <meta name="theme-color" content="#273c4c">
</head>

<body class=" article">
  <div
    class="section headwrap "
    >
    <div class="container">
      <div class="row">
        <div class="col-12">
  <nav
    class="navbar navbar-expand-md navbar-dark">
    <li class="logo-nav d-block d-md-none">
      <a class="navbar-brand mobile" href="/"></a>
    </li>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown"
      aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNavDropdown">
      <ul class="main-nav navbar-nav">
        <li class="logo-nav d-none d-md-block">
          <a class="navbar-brand" href="/"></a>
        </li>
        <li>
          <ul class="navbar-nav">
                        <li
              class="nav-item  ">
                            <a class="nav-link" href="/product">Product</a>
                          </li>
                        <li
              class="nav-item  dropdown  ">
                                          <a class="nav-link dropdown-toggle" id="navbarDropdown" aria-haspopup="true" aria-expanded="false">
                Solutions
              </a>
                            <div class="dropdown-menu">
                                                                <a class="dropdown-item" href="/solution-briefs">Solution Briefs</a>
                                <a class="dropdown-item" href="/use-cases">Use Cases</a>
                                <a class="dropdown-item" href="/solutions/edge-services">Edge Services</a>
                                <a class="dropdown-item" href="/solutions/edge-lab">Edge Lab</a>
                                <a class="dropdown-item" href="/solutions/success-stories">MNO Success Stories</a>
                
              </div>
                          </li>
                        <li
              class="nav-item  ">
                            <a class="nav-link" href="/partners">Partners</a>
                          </li>
                        <li
              class="nav-item  dropdown  ">
                                          <a class="nav-link dropdown-toggle" href="/about" id="navbarDropdown" aria-haspopup="true"
                aria-expanded="false">
                About
              </a>
                            <div class="dropdown-menu">
                                <a class="dropdown-item" href="/about">Overview</a>
                                                <a class="dropdown-item" href="/about/leadership">Leadership</a>
                                <a class="dropdown-item" href="/about/press">Newsroom</a>
                                <a class="dropdown-item" href="/about/careers">Careers</a>
                                <a class="dropdown-item" href="/about/contact">Contact</a>
                
              </div>
                          </li>
                        <li
              class="nav-item  ">
                            <a class="nav-link" href="/blog">Blog</a>
                          </li>
                        <li
              class="nav-item  dropdown  ">
                                          <a class="nav-link dropdown-toggle" id="navbarDropdown" aria-haspopup="true" aria-expanded="false">
                Resources
              </a>
                            <div class="dropdown-menu">
                                                                <a class="dropdown-item" href="https://operators.mobiledgex.com">Operator Docs</a>
                                <a class="dropdown-item" href="https://developers.mobiledgex.com">Developer Docs</a>
                                <a class="dropdown-item" href="https://developers.mobiledgex.com/sdk-libraries">SDK & Libraries</a>
                                <a class="dropdown-item" href="https://developers.mobiledgex.com/api-references">API Reference</a>
                                <a class="dropdown-item" href="/blog?category=technical">Technical Articles</a>
                                <a class="dropdown-item" href="mailto:support@mobiledgex.com">Support</a>
                                <a class="dropdown-item" href="https://console.mobiledgex.net/">Console</a>
                
              </div>
                          </li>
            
          </ul>
        </li>
        <li class="right-nav">
          <a href="/search" class="search d-none d-lg-block"></a>
        </li>
      </ul>
    </div>
  </nav>
</div>

      </div>
    </div>
    <div class="container" id="mobiledgex-unity-sdk-2-1-2-with-magic-leap-one-content">
      <div class="row">
        <div class="col">
  <h1>MobiledgeX Unity SDK 2.1.2 with Magic Leap One</h1>
  <p class="datestamp">September 17th, 2020</p>
</div>

      </div>
    </div>
  </div>
   

<div class="container section white-default">
  <div class="row">
    <div class="col-md-4 buffer">
      <div class="article-info">
        <img src="/assets/social/leap-one-social.jpg" class="img-fluid d-none d-md-block social"
          alt="Decorative graphic" />
                <div class="author d-none d-md-flex">
          <img src="/assets/headshots/IMG_0670.jpg" class="img-fluid headshot" alt="Headshot for " />
          <div class="info">
            <p class="name"><a href="/blog/authors/garner-lee">Garner Lee</a></p>
            <p class="job-title">Principal Engineer</p>
          </div>
        </div>
        
                        
        <div class="related-content d-none d-md-block">
          <h3>Related Articles</h3>
          <ul>
                        <li><a href="/blog/2022/01/18/massive-technologies-showcases-unity-render-streaming">Massive Technologies Showcases the Advantage of Unity Render Streaming at hubraum</a></li>
                        <li><a href="/blog/2021/11/09/developer-spotlight-ums">Developer Spotlight: Unmanned Life</a></li>
                        <li><a href="/blog/2021/11/04/dt-nvidia-cloudxr">Case Study: Deutsche Telekom Remote Augmented Reality Rendering using MobiledgeX and NVIDIA CloudXR</a></li>
                        <li><a href="/blog/2021/11/02/event-join-mobiledgex-and-partners-for-a-discussion-of-infrastructure-critical-to-mobile-ar-vr-at-awe-usa-2021-nov-11th-9-30-a-m-10-25-a-m-pt">[Event] Join MobiledgeX and partners for a discussion of infrastructure critical to mobile AR/VR at AWE USA 2021 (Nov 11th 9:30 a.m.- 10:25 a.m PT)</a></li>
                        <li><a href="/blog/2021/10/07/developer-spotlight-forwardgame">Developer Spotlight: forwARdgame</a></li>
            
                        <li class="readmore">
              <a href="/blog/tags/developer">See more articles from the Developer category</a>
            </li>
                      </ul>
        </div>
        
                                
      </div>
    </div>
    <div class="col-md-8 article-content clearfix">
            <div class="author d-flex d-md-none">
        <img src="/assets/headshots/IMG_0670.jpg" class="img-fluid headshot" alt="Headshot for Garner Lee" />
        <div class="info">
          <p class="name">Garner Lee</p>
          <p class="job-title">Principal Engineer</p>
        </div>
      </div>
      
                  <p>Augmented Reality (AR) is changing the way we are entertained, learn, receive healthcare, and advance industry. Augmented Reality adds additional information to your view of the real world in real-time, while Virtual Reality replaces your observed environment with a simulated one.</p><p>The developers at MobiledgeX obtained a few Magic Leap One devices and placed them on the Edge. Why did we place AR headsets on the Edge? Because the interesting thing about wearable AR headsets is that both the GPS location awareness of a cell phone and AR spatial mesh technology could potentially be combined. With the cooperative use of an AR headset and a cell phone as a WiFi hotspot to run MobiledgeX’s FindCloudlet, we connected to the closest edge-enabled backend server. The cell phone also runs a small HTTP server that among other things, supplies fine grain GPS Location information to the magic leap device. Our Magic Leap proof of concept Unity application connected to our Face Detection servers with excellent results we’d like to share.<br><br>The MLCamera uses the same camera as the AR Capture mode, and cannot capture at the same time, so this is recorded through one of the stereo headset displays. Here is our result pointed at “faces” on an image search:</p>
                    <div class="embed-responsive embed-responsive-16by9">
        <!-- Youtube and Video -->
        <iframe class="embed-responsive-item" src="https://player.vimeo.com/video/459165950?dnt=1" ...></iframe>
      </div>
                         <h2 id='placing-a-“decorator”-in-ar-space'><a class='anchor' aria-hidden='true' href='#placing-a-“decorator”-in-ar-space'><svg class='octicon octicon-link' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'><path fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'></path></svg></a>Placing a “Decorator” in AR space</h2><p>Our face detection servers usually process 2D detection rectangles to recognize faces. The AR headset’s position and rotation information could be used to calculate the relative rotation and position of the detection rectangles, placing them in 3D space.</p><p>The Magic Leap One has an outward facing camera that can record the real-world scene in front of the user (MLCamera), and also an AR UnityEngine Camera GameObject prefab asset to provide data used to locate the user headset position.</p><p>Currently, the face recognition application places the bounding boxes at a 1-meter (1 Unity Unit) distance in front of the AR headset. For things to look right, we resize and move each detection “decorator” Unity prefab to be in a more appropriate location:</p><pre><code>// Set decorator position to camera position
decorator.transform.position = parentCam.transform.position;
// Move 1 unit forward, unknown distance.
decorator.transform.Translate(unitCamForward);
</code></pre><p>Now, let’s position the detection decorator. The face detection server operates on a 2D screen coordinate system where (0,0) origin is the upper left of the screen, instead of Unity’s screen independent spatial coordinates (0,0,0) origin in 3D space:</p><pre><code>// Rotate to match camera rotation:

Quaternion parentRot = parentCam.transform.rotation;
Vector3 parentEuler = parentRot.eulerAngles;
decorator.transform.rotation = Quaternion.Euler(parentEuler.x, parentEuler.y, 0); // no rotation around z-axis

// Reposition r.x and r.y (origin is at top left of screen) in terms of unity&#039;s coordinate system (origin is at &quot;center&quot; of screen)
// This offset depends entirely on the webcam physical position.

Vector3 v3pos = new Vector3(
  zscale * (float)(-.5 * widthAtDepth + ((r.x + r.width/2 + xOffset) / imageW * widthAtDepth)),
  zscale * (float)(.5 * heightAtDepth - ((r.y + r.height/2 + yOffset) / imageH * heightAtDepth)),
  0); // left hand coordinate system
decorator.transform.Translate(v3pos); // Translation is relative to own space
</code></pre><p>We can potentially perform a RayCast to find the Z distance of each detection rectangle. Finding the Z distance allows placing the detection rectangles in the proper location in the spatial mesh, instead of some distance in front of the headset. Some additional calculations are required for the actual view frustum to align its images more precisely with real-world objects and varying camera angles. We noticed during our test that the update speed of the spatial mesh was not exceptionally fast and that it missed smaller objects in the area, like stationary flat monitors, such that the Z distance would be behind the monitor. We have plans to explore this further in the future.</p><h2 id='the-face-detection-edge-server'><a class='anchor' aria-hidden='true' href='#the-face-detection-edge-server'><svg class='octicon octicon-link' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'><path fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'></path></svg></a>The Face Detection Edge Server</h2><p>You might be curious to know where our Face Detection Edge Servers reside. The Face Detection Servers reside within the MobiledgeX distributed infrastructure. Using the cell phone during this test gave us the ability to acquire most of the data needed by the Face Detection Edge Server. The data was gathered by querying the Phone application that paired with our Magic Leap Unity Face Detection Application:</p>
                         <figure class="full">
        <img src="/assets/blog/Magic-Leap-Face-Detection.svg" class="img-fluid slb" alt="" />
        <figcaption></figcaption>
      </figure>
      
                   <p>Some of edge cloudlet locations also have GPU resources to accelerate computer vision tasks.</p><p>If you would like to learn more about FaceDetection, Face Recognition, Object Recognition, and server backends, you can access the various guides here: <a href="https://developers.mobiledgex.com/guides-and-tutorials/computer-vision">Face Detection Sample App Guides</a>.</p><p>Happy coding!</p>
              <ul class="social float-left">
        <li>Share:</li>
        <li>
          <a href="http://www.linkedin.com/shareArticle?url=https%3A%2F%2Fwww.mobiledgex.com/blog/2020/09/17/mobiledgex-unity-sdk-2-1-2-with-magic-leap-one&title=MobiledgeX+Unity+SDK+2.1.2+with+Magic+Leap+One"
            target="_blank"><img src="/img/linkedin.svg?v=1617657073"
              alt="Share on Linkedin" /></a>
        </li>
        <li>
          <a href="https://twitter.com/intent/tweet?source=MobiledgeX%20Blog&text=MobiledgeX+Unity+SDK+2.1.2+with+Magic+Leap+One&url=https%3A%2F%2Fwww.mobiledgex.com/blog/2020/09/17/mobiledgex-unity-sdk-2-1-2-with-magic-leap-one&via=mobiledgex"
            target="_blank"><img src="/img/twitter.svg?v=1617657073"
              alt="Share on Twitter" /></a>
        </li>
        <li>
          <a href="http://www.facebook.com/share.php?u=https%3A%2F%2Fwww.mobiledgex.com/blog/2020/09/17/mobiledgex-unity-sdk-2-1-2-with-magic-leap-one"
            target="_blank"><img src="/img/facebook.svg?v=1617657073"
              alt="Share on Facebook" /></a>
        </li>
      </ul>
      
    </div>
  </div>
  <!-- row -->
</div>
<!-- container -->
<link rel="stylesheet" href="/css/simplebox.min.css" />
<script src="/js/simplebox.min.js"></script>
<script type="text/javascript">
  $(function () {
    $(".slb").simplebox();
  });
</script>


  <script src="/js/mex.min.js?v=1644432456"></script>

  <div class="footer section">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <a class="brand" href="/"></a>
        <ul class="footnav">
                    <li>
                        <a href="/product">Product</a>
            <ul>
              <li><a href="/product">MobiledgeX Edge-Cloud</a></li>
            </ul>
                      </li>
                    <li>
                        <a href="/use-cases">Use Cases</a>
            <ul>
              <li><a href="/use-cases">Overview</a></li>
                            <li><a href="/use-cases/quarkxr">QuarkXR</a></li>
                            <li><a href="/use-cases/aicuda-technology">Aicuda Technology</a></li>
                            <li><a href="/use-cases/interactor">Interactor</a></li>
              
              <li><a href="/use-cases">View All</a></li>
              <li>
                <a class="external" href="https://seamster.io">Seamster</a>
              </li>
            </ul>
                      </li>
                    <li>
                        <a href="/about">About</a>
            <ul>
                            <li><a href="/about">Overview</a></li>
                             <li><a href="/about/leadership">Leadership</a></li>
                            <li><a href="/about/press">Newsroom</a></li>
                            <li><a href="/partners">Partners</a></li>
                            <li><a href="/about/careers">Careers</a></li>
                            <li><a href="/about/contact">Contact</a></li>
                            <li><a href="/blog">Blog</a></li>
              
            </ul>
                      </li>
                    <li>
                        <a href="https://operators.mobiledgex.com">Operators</a>
                      </li>
          
          <li>
            <a href="https://developers.mobiledgex.com">Developers</a>
            <ul>
              <li>
                <a class="external" href="https://developers.mobiledgex.com">Documentation</a>
              </li>
              <li>
                <a class="external" href="https://developers.mobiledgex.com/sdk-libraries">SDK &amp; Libraries</a>
              </li>
              <li>
                <a class="external" href="https://developers.mobiledgex.com/api-references">API Reference</a>
              </li>
              <li>
                <a class="external" href="https://developers.mobiledgex.com/technical-articles">Technical Articles</a>
              </li>
              <li>
                <a class="external" href="https://developers.mobiledgex.com/operators">Network Operators</a>
              </li>
              <li>
                <a class="external" href="mailto:support@mobiledgex.com">Support</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="/about/contact">Contact</a>
            <ul>
              <li><a href="/about/contact" class="contact">Contact Us</a></li>
              <li>
                <a href="https://www.linkedin.com/company/mobiledgex/" class="linkedin">LinkedIn</a>
              </li>
              <li>
                <a href="https://twitter.com/mobiledgex" class="twitter">Twitter</a>
              </li>
              <li>
                <a href="https://www.youtube.com/channel/UC41LaIqKFq9jykonX0gsKNw" class="youtube">YouTube</a>
              </li>
              <li>
                <a href="https://discord.gg/nZAmkZqj8t" class="chat">Dev Chat</a>
              </li>
              <li><a href="/feed.xml" class="rss">RSS</a></li>
            </ul>
          </li>
          <li>
            <a href="https://console.mobiledgex.net/" class="d-none d-lg-block">Log-in</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="text-center"><p>©2022 MobiledgeX, Inc. 333 W. San Carlos Street Ste. 600, San Jose, CA 95110  | <a href="/privacy-policy">Privacy Policy</a> | <a href="/terms-of-use">Terms of Use</a> | <a href="/about/contact">Contact</a></p>
</div>
      </div>
    </div>
  </div>
</div>
<script type="text/javascript">
  _linkedin_partner_id = "1099500";
  window._linkedin_data_partner_ids = window._linkedin_data_partner_ids || [];
  window._linkedin_data_partner_ids.push(_linkedin_partner_id);
</script>
<script type="text/javascript">
  (function () {
    var s = document.getElementsByTagName("script")[0];
    var b = document.createElement("script");
    b.type = "text/javascript";
    b.async = true;
    b.src = "https://snap.licdn.com/li.lms-analytics/insight.min.js";
    s.parentNode.insertBefore(b, s);
  })();
</script>
<noscript>
  <img height="1" width="1" style="display:none;" alt=""
    src="https://px.ads.linkedin.com/collect/?pid=1099500&fmt=gif" />
</noscript>


  

  <script type="text/javascript" async defer src="/js/theme-colors.js"></script>
</body>

</html>
